webpackJsonp([2,0],{0:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=n(148),r=s(o),i=n(197),a=s(i),c=n(150),u=s(c);new r.default({el:"#app",store:u.default,render:function(e){return e(a.default)}})},149:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=n(160),r=s(o),i=n(29),a=s(i),c=window.WebSocket||window.MozWebSocket;t.connect=function(e,t,n){if(c){var s=function(){var s=new c(e);return s.onopen=function(){if(console.log("Connection to socket server opened."),s.send((0,a.default)(t)),n&&n.length>0)for(var e=0;e<n.length;e++)s.send((0,a.default)(n[e]))},s.onerror=function(e){console.log("Sorry, but there's a problem with your connection or the server is down."),console.log(e)},setInterval(function(){1!==s.readyState&&console.log("Unable to communicate with the WebSocket server.")},3e3),setInterval(function(){console.log("Timing out users...")},3e4),{v:s}}();if("object"===("undefined"==typeof s?"undefined":(0,r.default)(s)))return s.v}else console.log("Please use a newer browser to access collaboration features.")},t.send=function(e,t){e.send(t)},t.disconnect=function(e){e.close()}},150:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=n(157),r=s(o),i=n(29),a=s(i),c=n(148),u=s(c),l=n(207),d=s(l),f=n(151),h=s(f),m=n(149),p=s(m);u.default.use(d.default);var v="user-identifier",j=window.localStorage.getItem(v)||h.default.identifier();window.localStorage.setItem(v,j);var g="user-name",b=window.localStorage.getItem(g)||h.default.name();window.localStorage.setItem(g,b);var _="users-connected",y={userId:j,userName:b,connected:new Date,status:"connected",lastActivity:new Date};window.localStorage.setItem(_,(0,a.default)([y]));var w="user-notes",N=JSON.parse(window.localStorage.getItem(w))||[],k=p.default.connect("ws://post-its-socket-server-demo.herokuapp.com",y,N),C=new d.default.Store({state:{userId:j,userName:b,notes:JSON.parse(window.localStorage.getItem(w)||"[]"),newNote:"",editingId:"",connection:k,connectedUsers:JSON.parse(window.localStorage.getItem(_))||[y]},mutations:{GET_NOTE:function(e,t){e.newNote=t},ADD_NOTE:function(e){var t={body:e.newNote,archived:!1,created:new Date,id:e.editingId||h.default.identifier(),user:e.userId,userName:e.userName,removed:!1};e.notes.push(t),window.localStorage.setItem(w,(0,a.default)(e.notes)),p.default.send(k,(0,a.default)(t))},EDIT_NOTE:function(e,t){var n=e.notes;n.splice(n.indexOf(t),1),e.notes=n,e.newNote=t.body,e.editingId=t.id,window.localStorage.setItem(w,(0,a.default)(n))},REMOVE_NOTE:function(e,t){t.removed=!0,p.default.send(k,(0,a.default)(t));var n=e.notes;n.splice(n.indexOf(t),1),window.localStorage.setItem(w,(0,a.default)(n))},ARCHIVE_NOTE:function(e,t){for(var n=e.notes,s=0;s<n.length;++s)n[s].id===t.id&&(n[s].archived=!n[s].archived);window.localStorage.setItem(w,(0,a.default)(n)),p.default.send(k,(0,a.default)(t))},CLEAR_NOTE:function(e){e.newNote=""}},actions:{getNote:function(e,t){var n=e.commit;n("GET_NOTE",t)},addNote:function(e){var t=e.commit;t("ADD_NOTE")},editNote:function(e,t){var n=e.commit;n("EDIT_NOTE",t)},removeNote:function(e,t){var n=e.commit;n("REMOVE_NOTE",t)},archiveNote:function(e,t){var n=e.commit;n("ARCHIVE_NOTE",t)},clearNote:function(e){var t=e.commit;t("CLEAR_NOTE")}},getters:{newNote:function(e){return e.newNote},notes:function(e){return e.notes.filter(function(e){return!e.archived})},archivedNotes:function(e){return e.notes.filter(function(e){return e.archived})},users:function(e){return e.connectedUsers},myUserId:function(e){return e.myUser.userId}}}),I=function(e,t){var n=(0,r.default)(e),s=(0,r.default)(t);if(n.length!==s.length)return!1;for(var o=0;o<n.length;o++){var i=n[o];if(e[i]!==t[i])return!1}return!0};k.onmessage=function(e){try{var t=JSON.parse(e.data);if(t.userId){for(var n=C.state.connectedUsers,s=!1,o=0;o<n.length;o++)n[o].userId===t.userId&&(s=!0);if(!s){C.state.connectedUsers.push(t),k.send((0,a.default)(y));for(var r=C.state.notes,i=0;i<r.length;i++)k.send((0,a.default)(r[i]))}}else{for(var c=t,u=C.state.notes,l=!1,d=!1,f=c.removed,h=0,m=0;m<u.length;++m)u[m].id===c.id&&(h=m,l=!0,d=!I(u[m],c));if(!l&!f)u.push(c);else if(f)for(var p=0;p<u.length;++p)u[p].id===c.id&&u.splice(p,1);else d&&u.splice(h,1,c);window.localStorage.setItem(w,(0,a.default)(u)),console.log("Resetting last activity datetime of user")}}catch(t){console.log("Error, either a bug or this isn't valid JSON: ",e.data)}},e.exports=C},151:function(e,t){"use strict";var n=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},s=["adamant","adroit","amatory","animistic","antic","arcadian","baleful","bellicose","bilious","boorish","calamitous","caustic","cerulean","comely","concomitant","contumacious","corpulent","crapulous","defamatory","didactic","dilatory","dowdy","efficacious","effulgent","egregious","endemic","equanimous","execrable","fastidious","feckless","fecund","friable","fulsome","garrulous","guileless","gustatory","heuristic","histrionic","hubristic","incendiary","insidious","insolent","intransigent","inveterate","invidious","irksome","jejune","jocular","judicious","lachrymose","limpid","loquacious","luminous","mannered","mendacious","meretricious","minatory","mordant","munificent","nefarious","noxious","obtuse","parsimonious","pendulous","pernicious","pervasive","petulant","platitudinous","precipitate","propitious","puckish","querulous","quiescent","rebarbative","recalcitant","redolent","rhadamanthine","risible","ruminative","sagacious","salubrious","sartorial","sclerotic","serpentine","spasmodic","strident","taciturn","tenacious","tremulous","trenchant","turbulent","turgid","ubiquitous","uxorious","verdant","voluble","voracious","wheedling","withering","zealous"],o=["ninja","chair","pancake","statue","unicorn","rainbows","laser","senor","bunny","captain","nibblets","cupcake","carrot","gnomes","glitter","potato","salad","toejam","curtains","beets","toilet","exorcism","stick figures","mermaid eggs","sea barnacles","dragons","jellybeans","snakes","dolls","bushes","cookies","apples","ice cream","ukulele","kazoo","banjo","opera singer","circus","trampoline","carousel","carnival","locomotive","hot air balloon","praying mantis","animator","artisan","artist","colorist","inker","coppersmith","director","designer","flatter","stylist","leadman","limner","make-up artist","model","musician","penciller","producer","scenographer","set decorator","silversmith","teacher","auto mechanic","beader","bobbin boy","clerk of the chapel","filling station attendant","foreman","maintenance engineering","mechanic","miller","moldmaker","panel beater","patternmaker","plant operator","plumber","sawfiler","shop foreman","soaper","stationary engineer","wheelwright","woodworkers"],r=function(e){var t=Math.floor(Math.random()*e.length);return e[t]};t.identifier=function(){return(""+n()+n()+"-"+n()+"-4"+n().substr(0,3)+"-"+n()+"-"+n()+n()+n()).toLowerCase()},t.name=function(){return r(s)+" "+r(o)}},152:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(201),r=s(o),i=n(200),a=s(i),c=n(198),u=s(c),l=n(199),d=s(l);t.default={components:{GetNote:r.default,CurrentNotes:a.default,ArchivedNotes:u.default,ConnectedUsers:d.default}}},153:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=s(o);t.default={methods:{remove:function(e){this.$store.dispatch("removeNote",e)},moment:function(){return(0,r.default)()}},computed:{archived:function(){return this.$store.getters.archivedNotes}},filters:{moment:function(e){return(0,r.default)(e).fromNow()}}}},154:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=s(o);t.default={computed:{users:function(){return this.$store.getters.users},myUser:function(){return this.$store.getters.myUserId}},filters:{moment:function(e){return(0,r.default)(e).fromNow()}}}},155:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),r=s(o);t.default={methods:{edit:function(e){this.$store.dispatch("editNote",e)},archive:function(e){this.$store.dispatch("archiveNote",e)},remove:function(e){this.$store.dispatch("removeNote",e)},moment:function(){return(0,r.default)()}},computed:{notes:function(){return this.$store.getters.notes}},filters:{moment:function(e){return(0,r.default)(e).fromNow()}}}},156:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{getNote:function(e){this.$store.dispatch("getNote",e.target.value)},addNote:function(){this.$store.state.newNote.length>0&&(this.$store.dispatch("addNote"),this.$store.dispatch("clearNote"))}},computed:{newNote:function(){return this.$store.getters.newNote}}}},193:function(e,t){},194:function(e,t){},195:function(e,t){},196:function(e,t,n){function s(e){return n(o(e))}function o(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./af":40,"./af.js":40,"./ar":46,"./ar-dz":41,"./ar-dz.js":41,"./ar-ly":42,"./ar-ly.js":42,"./ar-ma":43,"./ar-ma.js":43,"./ar-sa":44,"./ar-sa.js":44,"./ar-tn":45,"./ar-tn.js":45,"./ar.js":46,"./az":47,"./az.js":47,"./be":48,"./be.js":48,"./bg":50,"./bg-x":49,"./bg-x.js":49,"./bg.js":50,"./bn":51,"./bn.js":51,"./bo":52,"./bo.js":52,"./br":53,"./br.js":53,"./bs":54,"./bs.js":54,"./ca":55,"./ca.js":55,"./cs":56,"./cs.js":56,"./cv":57,"./cv.js":57,"./cy":58,"./cy.js":58,"./da":59,"./da.js":59,"./de":61,"./de-at":60,"./de-at.js":60,"./de.js":61,"./dv":62,"./dv.js":62,"./el":63,"./el.js":63,"./en-au":64,"./en-au.js":64,"./en-ca":65,"./en-ca.js":65,"./en-gb":66,"./en-gb.js":66,"./en-ie":67,"./en-ie.js":67,"./en-nz":68,"./en-nz.js":68,"./eo":69,"./eo.js":69,"./es":71,"./es-do":70,"./es-do.js":70,"./es.js":71,"./et":72,"./et.js":72,"./eu":73,"./eu.js":73,"./fa":74,"./fa.js":74,"./fi":75,"./fi.js":75,"./fo":76,"./fo.js":76,"./fr":79,"./fr-ca":77,"./fr-ca.js":77,"./fr-ch":78,"./fr-ch.js":78,"./fr.js":79,"./fy":80,"./fy.js":80,"./gd":81,"./gd.js":81,"./gl":82,"./gl.js":82,"./he":83,"./he.js":83,"./hi":84,"./hi.js":84,"./hr":85,"./hr.js":85,"./hu":86,"./hu.js":86,"./hy-am":87,"./hy-am.js":87,"./id":88,"./id.js":88,"./is":89,"./is.js":89,"./it":90,"./it.js":90,"./ja":91,"./ja.js":91,"./jv":92,"./jv.js":92,"./ka":93,"./ka.js":93,"./kk":94,"./kk.js":94,"./km":95,"./km.js":95,"./ko":96,"./ko.js":96,"./ky":97,"./ky.js":97,"./lb":98,"./lb.js":98,"./lo":99,"./lo.js":99,"./lt":100,"./lt.js":100,"./lv":101,"./lv.js":101,"./me":102,"./me.js":102,"./mi":103,"./mi.js":103,"./mk":104,"./mk.js":104,"./ml":105,"./ml.js":105,"./mr":106,"./mr.js":106,"./ms":108,"./ms-my":107,"./ms-my.js":107,"./ms.js":108,"./my":109,"./my.js":109,"./nb":110,"./nb.js":110,"./ne":111,"./ne.js":111,"./nl":113,"./nl-be":112,"./nl-be.js":112,"./nl.js":113,"./nn":114,"./nn.js":114,"./pa-in":115,"./pa-in.js":115,"./pl":116,"./pl.js":116,"./pt":118,"./pt-br":117,"./pt-br.js":117,"./pt.js":118,"./ro":119,"./ro.js":119,"./ru":120,"./ru.js":120,"./se":121,"./se.js":121,"./si":122,"./si.js":122,"./sk":123,"./sk.js":123,"./sl":124,"./sl.js":124,"./sq":125,"./sq.js":125,"./sr":127,"./sr-cyrl":126,"./sr-cyrl.js":126,"./sr.js":127,"./ss":128,"./ss.js":128,"./sv":129,"./sv.js":129,"./sw":130,"./sw.js":130,"./ta":131,"./ta.js":131,"./te":132,"./te.js":132,"./tet":133,"./tet.js":133,"./th":134,"./th.js":134,"./tl-ph":135,"./tl-ph.js":135,"./tlh":136,"./tlh.js":136,"./tr":137,"./tr.js":137,"./tzl":138,"./tzl.js":138,"./tzm":140,"./tzm-latn":139,"./tzm-latn.js":139,"./tzm.js":140,"./uk":141,"./uk.js":141,"./uz":142,"./uz.js":142,"./vi":143,"./vi.js":143,"./x-pseudo":144,"./x-pseudo.js":144,"./zh-cn":145,"./zh-cn.js":145,"./zh-hk":146,"./zh-hk.js":146,"./zh-tw":147,"./zh-tw.js":147};s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id=196},197:function(e,t,n){var s,o;n(194),s=n(152);var r=n(204);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,e.exports=s},198:function(e,t,n){var s,o;s=n(153);var r=n(202);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,e.exports=s},199:function(e,t,n){var s,o;n(195),s=n(154);var r=n(205);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,e.exports=s},200:function(e,t,n){var s,o;n(193),s=n(155);var r=n(203);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,e.exports=s},201:function(e,t,n){var s,o;s=n(156);var r=n(206);o=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(o=s=s.default),"function"==typeof o&&(o=o.options),o.render=r.render,o.staticRenderFns=r.staticRenderFns,e.exports=s},202:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"container row",attrs:{id:"archived-notes"}},[e._h("div",{staticClass:"col-md-12"},[e.archived.length>0?e._h("h3",["Archived ("+e._s(e.archived.length)+")"]):e._e()," ",e._h("ul",{staticClass:"list-group"},[e._l(e.archived,function(t){return e._h("li",{staticClass:"list-group-item"},[e._h("p",[e._s(t.body)])," ",e._h("p",{staticClass:"user"},["(Created by "+e._s(t.userName)+", "+e._s(e._f("moment")(t.created))+")"])," ",e._h("div",{staticClass:"btn-group"},[e._h("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(n){e.remove(t)}}},[e._h("span",{staticClass:"glyphicon glyphicon-remove-circle"})," Remove\n          "])])])})])])])},staticRenderFns:[]}},203:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"container row",attrs:{id:"current-notes"}},[e._h("div",{staticClass:"col-md-12"},[e.notes.length>0?e._h("h3",["Current ("+e._s(e.notes.length)+")"]):e._e()," ",e._h("ul",{staticClass:"list-group"},[e._l(e.notes,function(t){return e._h("li",{staticClass:"list-group-item"},[e._h("p",[e._s(t.body)])," ",e._h("p",{staticClass:"user"},["(Created by "+e._s(t.userName)+", "+e._s(e._f("moment")(t.created))+")"])," ",e._h("div",{staticClass:"btn-group"},[e._h("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(n){e.edit(t)}}},[e._h("span",{staticClass:"glyphicon glyphicon-edit"})," Edit\n          "])," ",e._h("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(n){e.archive(t)}}},[e._h("span",{staticClass:"glyphicon glyphicon-ok-circle"})," Archive\n          "])," ",e._h("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(n){e.remove(t)}}},[e._h("span",{staticClass:"glyphicon glyphicon-remove-circle"})," Remove\n          "])])])})])])])},staticRenderFns:[]}},204:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"container",attrs:{id:"app"}},[e._h("GetNote")," ",e._h("CurrentNotes")," ",e._h("ArchivedNotes")," ",e._h("ConnectedUsers")])},staticRenderFns:[]}},205:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"container row",attrs:{id:"connected-users"}},[e._h("div",{staticClass:"col-md-12"},[e.users.length>0?e._h("h3",["Connected ("+e._s(e.users.length)+")"]):e._e()," ",e._h("ul",{staticClass:"list-group"},[e._l(e.users,function(t){return e._h("li",{staticClass:"list-group-item"},[e._h("p",[e._s(t.userName)])," ",e._h("span",{staticClass:"connected"},["(Connected "+e._s(e._f("moment")(t.connected))+")"])])})])])])},staticRenderFns:[]}},206:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"container row",attrs:{id:"get-note"}},[e._h("div",{staticClass:"col-md-12"},[e._h("h3",["New Note"])," ",e._h("input",{staticClass:"form-control",attrs:{placeholder:"Type your note here..."},domProps:{value:e.newNote},on:{change:e.getNote}})," ",e._h("button",{staticClass:"btn btn-primary pull-right",on:{click:e.addNote}},["Add Note"])])])},staticRenderFns:[]}}});
//# sourceMappingURL=app.cd4ef3101ec210317dc8.js.map